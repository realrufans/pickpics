(this.webpackJsonppickpics=this.webpackJsonppickpics||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(18),a=n.n(i),s=n(10),o=(n(27),n(28),n(22)),u=n(17),l=n(5),j=n(15),b=n.n(j),d=n(19),m=n(1),O=r.a.createContext();function f(e){Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),j=s[0],f=s[1];return Object(m.jsx)(O.Provider,{value:{photos:r,togglefavorite:function(e){var t=r.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite}):t}));i(t)},addToCart:function(e){r.map((function(t){return t.id===e&&f((function(e){return[].concat(Object(o.a)(e),[t])})),t}))},cartContext:j,removeFromCart:function(e){r.map((function(t){return t.id===e&&f((function(e){return e.filter((function(e){return e!==t}))})),t}))},emptyCardItems:function(){f([])}},children:e.children})}function p(){var e=Object(c.useContext)(O).cartContext,t=Object(m.jsx)("span",{value:e});return console.log(t.props.value.length),Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("h2",{children:"Pic Some"})}),Object(m.jsx)(s.b,{to:"/cart",children:Object(m.jsxs)("div",{className:"cart-icon",children:[Object(m.jsx)("span",{className:"cartcount",children:t.props.value.length>0?t.props.value.length:""}),t.props.value.length>0?Object(m.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(m.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})]})})]})}var h=n(2),v=n(8),x=n.n(v);var g=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useRef)(null);function a(){r(!0)}function s(){r(!1)}return Object(c.useEffect)((function(){return null!==i.current&&(i.current.addEventListener("mouseenter",a),i.current.addEventListener("mouseleave",s)),function(){null!==i.current&&(i.current.removeEventListener("mouseenter",a),i.current.removeEventListener("mouseleave",s))}}),[i]),[n,i]};function C(e){var t=e.className,n=e.img,r=g(),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(c.useContext)(O),u=o.togglefavorite,j=o.addToCart,b=o.cartContext,d=o.removeFromCart;return Object(m.jsxs)("div",{className:"".concat(t," image-container"),ref:s,children:[Object(m.jsx)("img",{src:n.url,alt:"",className:"image-grid"}),n.isFavorite?Object(m.jsx)("i",{onClick:function(){return u(n.id)},className:"ri-heart-fill favorite"}):a?Object(m.jsx)("i",{onClick:function(){return u(n.id)},className:"ri-heart-line favorite"}):void 0,function(){var e=b.some((function(e){return e.id===n.id}));return console.log(e),e?Object(m.jsx)("i",{onClick:function(){return d(n.id)},className:"ri-shopping-cart-fill cart"}):a?Object(m.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){j(n.id)}}):void 0}()]})}C.Proptype={className:x.a.string,img:x.a.shape({url:x.a.string.isRequired,id:x.a.string.isRequired,isFavorite:x.a.bool})};var N=C;var k=function(){var e=Object(c.useContext)(O).photos.map((function(e,t){return Object(m.jsx)(N,{img:e,className:(n=t,n%5===0?"big":n%6===0?"wide":void 0)},e.id);var n}));return Object(m.jsx)("main",{className:"photos",children:e})};function y(e){var t=e.item,n=Object(c.useContext)(O).removeFromCart,r=g(),i=Object(l.a)(r,2),a=i[0],s=i[1],o=a?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(m.jsxs)("div",{className:"cart-item",children:[Object(m.jsx)("i",{ref:s,onClick:function(){return n(t.id)},className:o}),Object(m.jsx)("img",{className:"checkout-img",src:t.url,alt:""}),Object(m.jsx)("p",{children:"$ 5.99"})]})}var F=function(){var e=Object(c.useContext)(O),t=e.cartContext,n=e.emptyCardItems,r=Object(c.useState)(!1),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(c.useState)({display:"none"}),u=Object(l.a)(o,2),j=u[0],b=u[1],d=Object(c.useState)(),f=Object(l.a)(d,2),p=f[0],h=f[1],v=5.99*t.length,x={style:"currency",currency:"Usd"},g=t.map((function(e){return Object(m.jsx)(y,{item:e},e.id)}));return Object(m.jsxs)("main",{className:"cart-page",children:[Object(m.jsx)("h1",{children:"Checkout"}),Object(m.jsx)("p",{style:j,children:p}),g,Object(m.jsxs)("p",{className:"total-cost",children:["Total: ",function(e){return e.toLocaleString(void 0,x)}(v)," "]}),Object(m.jsx)("div",{className:"order-button",children:Object(m.jsxs)("button",{className:"place-order-btn",disabled:a,onClick:function(){t.length>0?(b({display:"block"}),h("Placing Order..."),setTimeout((function(){s(!1),b({display:"block"}),n(),h("Thank Your for shopping with us.")}),3e3),s(!0)):(b({display:"block"}),h("Your Cart Is Empty"))},children:["Place order"," "]})})]})};var S=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(p,{}),Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{exact:!0,path:"/",children:Object(m.jsx)(k,{})}),Object(m.jsx)(h.a,{path:"/cart",children:Object(m.jsx)(F,{})})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(f,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(S,{})})})}),document.getElementById("root")),w()}},[[39,1,2]]]);
//# sourceMappingURL=main.5e014166.chunk.js.map