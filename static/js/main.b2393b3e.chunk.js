(this.webpackJsonppickpics=this.webpackJsonppickpics||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(18),a=c.n(i),s=c(10),o=(c(27),c(28),c(22)),u=c(17),l=c(5),j=c(15),b=c.n(j),d=c(19),p=c(1),m=r.a.createContext();function O(e){Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,i(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)([]),s=Object(l.a)(a,2),j=s[0],O=s[1];return Object(p.jsx)(m.Provider,{value:{photos:r,togglefavorite:function(e){var t=r.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite}):t}));i(t)},addToCart:function(e){r.map((function(t){return t.id===e&&O((function(e){return[].concat(Object(o.a)(e),[t])})),t}))},cartContext:j,removeFromCart:function(e){r.map((function(t){return t.id===e&&O((function(e){return e.filter((function(e){return e!==t}))})),t}))},emptyCardItems:function(){O([])}},children:e.children})}function f(){var e=Object(n.useContext)(m).cartContext,t=Object(p.jsx)("span",{value:e});return console.log(t.props.value.length),Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)(s.b,{to:"/pickpics",children:Object(p.jsx)("h2",{children:"Pic Some"})}),Object(p.jsx)(s.b,{to:"/pickpics/cart",children:Object(p.jsxs)("div",{className:"cart-icon",children:[Object(p.jsx)("span",{className:"cartcount",children:t.props.value.length>0?t.props.value.length:""}),t.props.value.length>0?Object(p.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(p.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})]})})]})}var h=c(2),v=c(8),x=c.n(v);var g=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(n.useRef)(null);function a(){r(!0)}function s(){r(!1)}return Object(n.useEffect)((function(){return null!==i.current&&(i.current.addEventListener("mouseenter",a),i.current.addEventListener("mouseleave",s)),function(){null!==i.current&&(i.current.removeEventListener("mouseenter",a),i.current.removeEventListener("mouseleave",s))}}),[i]),[c,i]};function C(e){var t=e.className,c=e.img,r=g(),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(n.useContext)(m),u=o.togglefavorite,j=o.addToCart,b=o.cartContext,d=o.removeFromCart;return Object(p.jsxs)("div",{className:"".concat(t," image-container"),ref:s,children:[Object(p.jsx)("img",{src:c.url,alt:"",className:"image-grid"}),c.isFavorite?Object(p.jsx)("i",{onClick:function(){return u(c.id)},className:"ri-heart-fill favorite"}):a?Object(p.jsx)("i",{onClick:function(){return u(c.id)},className:"ri-heart-line favorite"}):void 0,function(){var e=b.some((function(e){return e.id===c.id}));return console.log(e),e?Object(p.jsx)("i",{onClick:function(){return d(c.id)},className:"ri-shopping-cart-fill cart"}):a?Object(p.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){j(c.id)}}):void 0}()]})}C.Proptype={className:x.a.string,img:x.a.shape({url:x.a.string.isRequired,id:x.a.string.isRequired,isFavorite:x.a.bool})};var N=C;var k=function(){var e=Object(n.useContext)(m).photos.map((function(e,t){return Object(p.jsx)(N,{img:e,className:(c=t,c%5===0?"big":c%6===0?"wide":void 0)},e.id);var c}));return Object(p.jsx)("main",{className:"photos",children:e})};function y(e){var t=e.item,c=Object(n.useContext)(m).removeFromCart,r=g(),i=Object(l.a)(r,2),a=i[0],s=i[1],o=a?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(p.jsxs)("div",{className:"cart-item",children:[Object(p.jsx)("i",{ref:s,onClick:function(){return c(t.id)},className:o}),Object(p.jsx)("img",{className:"checkout-img",src:t.url,alt:""}),Object(p.jsx)("p",{children:"$ 5.99"})]})}var F=function(){var e=Object(n.useContext)(m),t=e.cartContext,c=e.emptyCardItems,r=Object(n.useState)(!1),i=Object(l.a)(r,2),a=i[0],s=i[1],o=Object(n.useState)({display:"none"}),u=Object(l.a)(o,2),j=u[0],b=u[1],d=Object(n.useState)(),O=Object(l.a)(d,2),f=O[0],h=O[1],v=5.99*t.length,x={style:"currency",currency:"Usd"},g=t.map((function(e){return Object(p.jsx)(y,{item:e},e.id)}));return Object(p.jsxs)("main",{className:"cart-page",children:[Object(p.jsx)("h1",{children:"Checkout"}),Object(p.jsx)("p",{style:j,children:f}),g,Object(p.jsxs)("p",{className:"total-cost",children:["Total: ",function(e){return e.toLocaleString(void 0,x)}(v)," "]}),Object(p.jsx)("div",{className:"order-button",children:Object(p.jsxs)("button",{className:"place-order-btn",disabled:a,onClick:function(){t.length>0?(b({display:"block"}),h("Placing Order..."),setTimeout((function(){s(!1),b({display:"block"}),c(),h("Thank Your for shopping with us.")}),3e3),s(!0)):(b({display:"block"}),h("Your Cart Is Empty"))},children:["Place order"," "]})})]})};var S=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(f,{}),Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{exact:!0,path:"/pickpics",children:Object(p.jsx)(k,{})}),Object(p.jsx)(h.a,{path:"/pickpics/cart",children:Object(p.jsx)(F,{})})]})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,40)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(O,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(S,{})})})}),document.getElementById("root")),w()}},[[39,1,2]]]);
//# sourceMappingURL=main.b2393b3e.chunk.js.map